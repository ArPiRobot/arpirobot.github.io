
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://arpirobot.github.io/1.0/guide/programming/movingmotors/">
      
      
        <link rel="prev" href="../createproject/">
      
      
        <link rel="next" href="../drivegamepad/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.1">
    
    
      
        <title>Moving Motors - ArPiRobot</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.402914a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#moving-motors" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="ArPiRobot" class="md-header__button md-logo" aria-label="ArPiRobot" data-md-component="logo">
      
  <img src="../../../img/framework-logo/robot-nobg.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ArPiRobot
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Moving Motors
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/orgs/ArPiRobot/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../downloads/v1_0/" class="md-tabs__link">
        Downloads
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../gettingstarted/" class="md-tabs__link md-tabs__link--active">
        Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../ref/manuals/drive_station/" class="md-tabs__link">
        Documentation
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../devs/overview/" class="md-tabs__link">
        Framework Developers
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ArPiRobot" class="md-nav__button md-logo" aria-label="ArPiRobot" data-md-component="logo">
      
  <img src="../../../img/framework-logo/robot-nobg.png" alt="logo">

    </a>
    ArPiRobot
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/orgs/ArPiRobot/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Downloads
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Downloads
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../downloads/v1_0/" class="md-nav__link">
        Version 1.0 Downloads
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../downloads/betas/" class="md-nav__link">
        Beta Downloads
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gettingstarted/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Building a Robot
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Building a Robot
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/requiredhardware/" class="md-nav__link">
        Required Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/supportedhardware/" class="md-nav__link">
        Supported Hardware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/examplebuilds/" class="md-nav__link">
        Example Robot Builds
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Software Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Software Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/setupcomputer/" class="md-nav__link">
        Setup your Development Computer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/setuppi/" class="md-nav__link">
        Setup the Robot's Main Computer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Programming the Robot
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Programming the Robot
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../createproject/" class="md-nav__link">
        Creating a Project
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Moving Motors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Moving Motors
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#motor-controllers" class="md-nav__link">
    Motor Controllers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-motors" class="md-nav__link">
    Using the Motors
  </a>
  
    <nav class="md-nav" aria-label="Using the Motors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#motor-speed-direction" class="md-nav__link">
    Motor Speed &amp; Direction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brake-mode-coast-mode" class="md-nav__link">
    Brake Mode &amp; Coast Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../drivegamepad/" class="md-nav__link">
        Driving with Gamepad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sensordata/" class="md-nav__link">
        Sensor Data & NetworkTable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../actions/" class="md-nav__link">
        Using Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sensoractions/" class="md-nav__link">
        Using Sensors with Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pid/" class="md-nav__link">
        PID Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examplesrepo/" class="md-nav__link">
        Examples Repo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          Other Tasks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Other Tasks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../other/audio/" class="md-nav__link">
        Playing Audio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../other/camstream/" class="md-nav__link">
        Camera Streaming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../other/ssh/" class="md-nav__link">
        Connect by SSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../other/wifidebug/" class="md-nav__link">
        WiFi Debugging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
      
      
      
        <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
          Custom Parts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          Custom Parts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../custom/quadencoder/" class="md-nav__link">
        TT Motor Quadrature Encoder
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          Manuals
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Manuals
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ref/manuals/drive_station/" class="md-nav__link">
        Drive Station Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ref/manuals/deploy_tool/" class="md-nav__link">
        Deploy Tool Manual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ref/manuals/android_drive_station/" class="md-nav__link">
        Mobile Drive Station Manual
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          Programming Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Programming Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ref/projectstructure/" class="md-nav__link">
        Project Structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ref/baserobot/" class="md-nav__link">
        BaseRobot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ref/devices/" class="md-nav__link">
        Devices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ref/arduino/" class="md-nav__link">
        Arduino Sensor Coprocessor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ref/nettable/" class="md-nav__link">
        Network Table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ref/actionsystem/" class="md-nav__link">
        Action System
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          CoreLib API Docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          CoreLib API Docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../doxygen-docs/cpp/html/index.html" class="md-nav__link">
        Doxygen (C++)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../doxygen-docs/python/html/index.html" class="md-nav__link">
        Doxygen (Python)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../defaultsettings/" class="md-nav__link">
        Default Robot Settings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Framework Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Framework Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../devs/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../devs/corelib/" class="md-nav__link">
        Core Library (CoreLib)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../devs/arduinofw/" class="md-nav__link">
        Arduino Firmware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../devs/os_image_config/" class="md-nav__link">
        OS Image Description
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../devs/new_release/" class="md-nav__link">
        Publish New Release
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#motor-controllers" class="md-nav__link">
    Motor Controllers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-motors" class="md-nav__link">
    Using the Motors
  </a>
  
    <nav class="md-nav" aria-label="Using the Motors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#motor-speed-direction" class="md-nav__link">
    Motor Speed &amp; Direction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brake-mode-coast-mode" class="md-nav__link">
    Brake Mode &amp; Coast Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="moving-motors">Moving Motors</h1>
<p>One of the most important devices on a robot are the motors. Controlling the motors allows your robot to perform many tasks, one of the most basic and essential of which is driving. This section will cover different motor controller options and writing code to control the motors.</p>
<h2 id="motor-controllers">Motor Controllers</h2>
<p>Many different motor controllers are supported by the ArPiRobot framework. Each one requires slightly different code to use. The ArPiRobot framework is object oriented, meaning your program will have one object for each motor on your robot, and sometimes one for the motor controller itself. The objects for the motors all have the same set of functions, but must be created differently based on the motor controller in use. This section covers creating the objects for the motors depending on which motor controller you use on your robot. The following section shows how to use the motor objects. Use of the motor objects is the same regardless of which motor type. In this section, you need only add the code for the motor controller you use on your robot.</p>
<details>
<summary>DRV8833 Motor Controller</summary>
<p><img alt="" src="../../../img/drv8833.png" style="height: 300px" /></p>
<p><em>Image Credit: <a href="https://www.adafruit.com/product/3297">Adafruit</a></em></p>
<p>The DRV8833 motor controller is a PWM driven motor controller chip capable of controlling two motors. The module pictured above is Adafruit's DRV8833 breakout board. Battery power is input using the terminal block (labeled Vmotor), motors are connected to Aout pins and Bout pins, and several I/O pins from the Raspberry Pi are connected to the control pins opposite the Aout and Bout pins. The Ain pins are used to control motor A and the Bin pins are used to controller motor B. The SLP (sleep) pin is used to enable / disable sleep mode on the entire controller. When in sleep mode, neither motor will respond. As such, it is necessary to make the following connections to the Raspberry Pi</p>
<table>
<thead>
<tr>
<th>DRV8833 Pin</th>
<th>Raspberry Pi Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ain1</td>
<td>Any GPIO (eg. 23)</td>
</tr>
<tr>
<td>Ain2</td>
<td>Any GPIO (eg. 24)</td>
</tr>
<tr>
<td>SLP</td>
<td>Any GPIO (eg. 25)</td>
</tr>
<tr>
<td>Bin1</td>
<td>Any GPIO (eg. 17)</td>
</tr>
<tr>
<td>Bin2</td>
<td>Any GPIO (eg. 27)</td>
</tr>
<tr>
<td>GND</td>
<td>Any GND&ast;</td>
</tr>
</tbody>
</table>
<p>&ast; This only needs to be connected on one motor controller if multiple are used on the robot. This ensures that motor battery GND (usually AA batteries) and robot power GND (usually a USB battery pack) are connected. This is important for some sensors.</p>
<p>Each control pin (all but GND) must use a different GPIO. As such, 5 GPIO pins are needed per DRV8833 module. In the robot code, an object is constructed for the DRV8833 module. This object for the module constructs objects for both motors (A and B). This object is constructed using the pin numbers (broadcom pin numbering). Pinout and pin numbers can be found at <a href="https://pinout.xyz/">pinout.xyz</a>. You can choose any 5 GPIO pins. This pinout also shows which pins on the Pi are GND pins.</p>
<p>An object for the DRV8833 module and both of its motors can be used in robot code as shown below</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Python (<code>robot.py</code>)</label><label for="__tabbed_1_2">C++ (<code>robot.hpp</code>)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">arpirobot.core.robot</span> <span class="kn">import</span> <span class="n">BaseRobot</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.log</span> <span class="kn">import</span> <span class="n">Logger</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.action</span> <span class="kn">import</span> <span class="n">ActionManager</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.network</span> <span class="kn">import</span> <span class="n">NetworkTable</span>

<span class="c1"># Import devices and other things here</span>

<span class="c1"># ADDED: Imports for DRV8833</span>
<span class="kn">from</span> <span class="nn">arpirobot.devices.drv8833</span> <span class="kn">import</span> <span class="n">DRV8833Module</span>

<span class="c1"># Import actions here</span>
<span class="c1"># from actions import ...</span>

<span class="k">class</span> <span class="nc">Robot</span><span class="p">(</span><span class="n">BaseRobot</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Do not remove this line</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Create devices and constants as member variables here</span>
        <span class="c1"># self.device_var = DeviceClass(args)</span>

        <span class="c1"># ADDED: Creation of DRV8833 module and motor variables</span>
        <span class="c1"># Duplicate this code for each DRV8833 in use, but use different</span>
        <span class="c1"># variable names. When constructing DRV8833Module arguments are pin</span>
        <span class="c1"># numbers in order Ain1, Ain2, Bin1, Bin2, SLP</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">drv8833</span> <span class="o">=</span> <span class="n">DRV8833Module</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor_a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">drv8833</span><span class="o">.</span><span class="n">get_motor_a</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor_b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">drv8833</span><span class="o">.</span><span class="n">get_motor_b</span><span class="p">()</span>

        <span class="c1"># Only create the devices here. Do not configure them here!</span>

    <span class="k">def</span> <span class="nf">robot_started</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Run once when the robot starts</span>
        <span class="c1"># Configure devices here</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">robot_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs once each time the robot becomes enabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">robot_disabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs once each time the robot becomes disabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">enabled_periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically while the robot is enabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">disabled_periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically while the robot is disabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically (regardless of robot state)</span>

        <span class="c1"># Do not remove this line or some devices will be disabled</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feed_watchdog</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="cp">#pragma once</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/core/robot/BaseRobot.hpp&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;actions.hpp&gt;</span>

<span class="c1">// Other includes (for devices and other objects) here</span>

<span class="c1">// ADDED: Includes for DRV8833</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/devices/drv8833/DRV8833Module.hpp&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/devices/drv8833/DRV8833Motor.hpp&gt;</span>


<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">arpirobot</span><span class="p">;</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Robot</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">BaseRobot</span><span class="p">{</span>
<span class="k">public</span><span class="o">:</span>

<span class="w">    </span><span class="c1">// Run when the robot starts</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">robotStarted</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs once each time the robot becomes enabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">robotEnabled</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs once each time the robot becomes disabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">robotDisabled</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically while the robot is enabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">enabledPeriodic</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically while the robot is disabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">disabledPeriodic</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically (regardless of robot state)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">periodic</span><span class="p">();</span>


<span class="w">    </span><span class="c1">// Add devices and constants here as member objects</span>
<span class="w">    </span><span class="c1">// These should be public so actions can access them using Main::robot</span>

<span class="w">    </span><span class="c1">// ADDED: Creation of DRV8833 module and motor variables</span>
<span class="w">    </span><span class="c1">// Duplicate this code for each DRV8833 in use, but use different</span>
<span class="w">    </span><span class="c1">// variable names. When constructing DRV8833Module arguments are pin </span>
<span class="w">    </span><span class="c1">// numbers in order Ain1, Ain2, Bin1, Bin2, SLP</span>
<span class="w">    </span><span class="n">DRV8833Module</span><span class="w"> </span><span class="n">drv8833</span><span class="w"> </span><span class="p">{</span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">};</span>
<span class="w">    </span><span class="n">DRV8833Motor</span><span class="w"> </span><span class="o">&amp;</span><span class="n">motorA</span><span class="w"> </span><span class="p">{</span><span class="n">drv8833</span><span class="p">.</span><span class="n">getMotorA</span><span class="p">()};</span>
<span class="w">    </span><span class="n">DRV8833Motor</span><span class="w"> </span><span class="o">&amp;</span><span class="n">motorB</span><span class="w"> </span><span class="p">{</span><span class="n">drv8833</span><span class="p">.</span><span class="n">getMotorB</span><span class="p">()};</span>
<span class="p">};</span>
</code></pre></div>
</div>
</div>
</div>
</details>
<details>
<summary>TB6612 Motor Controller</summary>
<p><img alt="" src="../../../img/tb6612.png" style="height: 300px" /></p>
<p><em>Image Credit: <a href="https://www.adafruit.com/product/2448">Adafruit</a></em></p>
<p>The TB6612 motor controller is a PWM driven motor controller chip capable of controlling two motors. The module pictured above is Adafruit's TB6612 breakout board. Battery power is input using the terminal block (labeled Vmotor), motors are connected to MotorA pins and MotorB pins, and several I/O pins from the Raspberry Pi are connected to the control pins opposite the MotorA and MotorB pins. The Ain pins and PwmA are used to control motor A and the Bin pins and PwmB are used to controller motor B.  As such, it is necessary to make the following connections to the Raspberry Pi</p>
<table>
<thead>
<tr>
<th>TB6612 Pin</th>
<th>Raspberry Pi Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ain1</td>
<td>Any GPIO (eg. 23)</td>
</tr>
<tr>
<td>Ain2</td>
<td>Any GPIO (eg. 24)</td>
</tr>
<tr>
<td>PwmA</td>
<td>Any GPIO (eg. 25)</td>
</tr>
<tr>
<td>Bin1</td>
<td>Any GPIO (eg. 17)</td>
</tr>
<tr>
<td>Bin2</td>
<td>Any GPIO (eg. 27)</td>
</tr>
<tr>
<td>PwmB</td>
<td>Any GPIO (eg. 22)</td>
</tr>
<tr>
<td>GND</td>
<td>Any GND&ast;</td>
</tr>
</tbody>
</table>
<p>&ast; This only needs to be connected on one motor controller if multiple are used on the robot. This ensures that motor battery GND (usually AA batteries) and robot power GND (usually a USB battery pack) are connected. This is important for some sensors.</p>
<p>Each control pin (all but GND) must use a different GPIO. As such, 6 GPIO pins are needed per TB6612 module. In the robot code, an object is constructed for the TB6612 module. This object for the module constructs objects for both motors (A and B). This object is constructed using the pin numbers (broadcom pin numbering). Pinout and pin numbers can be found at <a href="https://pinout.xyz/">pinout.xyz</a>. You can choose any 6 GPIO pins. This pinout also shows which pins on the Pi are GND pins.</p>
<p>An object for the TB6612 module and both of its motors can be used in robot code as shown below</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Python (<code>robot.py</code>)</label><label for="__tabbed_2_2">C++ (<code>robot.hpp</code>)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">arpirobot.core.robot</span> <span class="kn">import</span> <span class="n">BaseRobot</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.log</span> <span class="kn">import</span> <span class="n">Logger</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.action</span> <span class="kn">import</span> <span class="n">ActionManager</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.network</span> <span class="kn">import</span> <span class="n">NetworkTable</span>

<span class="c1"># Import devices and other things here</span>

<span class="c1"># ADDED: Imports for TB6612</span>
<span class="kn">from</span> <span class="nn">arpirobot.devices.tb6612</span> <span class="kn">import</span> <span class="n">TB6612Module</span>

<span class="c1"># Import actions here</span>
<span class="c1"># from actions import ...</span>

<span class="k">class</span> <span class="nc">Robot</span><span class="p">(</span><span class="n">BaseRobot</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Do not remove this line</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Create devices and constants as member variables here</span>
        <span class="c1"># self.device_var = DeviceClass(args)</span>

        <span class="c1"># ADDED: Creation of TB6612 module and motor variables</span>
        <span class="c1"># Duplicate this code for each TB6612 in use, but use different</span>
        <span class="c1"># variable names. When constructing TB6612Module arguments are pin</span>
        <span class="c1"># numbers in order Ain1, Ain2, PwmA, Bin1, Bin2, PwmB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tb6612</span> <span class="o">=</span> <span class="n">TB6612Module</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">22</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor_a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb6612</span><span class="o">.</span><span class="n">get_motor_a</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor_b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tb6612</span><span class="o">.</span><span class="n">get_motor_b</span><span class="p">()</span>

        <span class="c1"># Only create the devices here. Do not configure them here!</span>

    <span class="k">def</span> <span class="nf">robot_started</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Run once when the robot starts</span>
        <span class="c1"># Configure devices here</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">robot_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs once each time the robot becomes enabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">robot_disabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs once each time the robot becomes disabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">enabled_periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically while the robot is enabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">disabled_periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically while the robot is disabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically (regardless of robot state)</span>

        <span class="c1"># Do not remove this line or some devices will be disabled</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feed_watchdog</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="cp">#pragma once</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/core/robot/BaseRobot.hpp&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;actions.hpp&gt;</span>

<span class="c1">// Other includes (for devices and other objects) here</span>

<span class="c1">// ADDED: Includes for TB6612</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/devices/tb6612/TB6612Module.hpp&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/devices/tb6612/TB6612Motor.hpp&gt;</span>


<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">arpirobot</span><span class="p">;</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Robot</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">BaseRobot</span><span class="p">{</span>
<span class="k">public</span><span class="o">:</span>

<span class="w">    </span><span class="c1">// Run when the robot starts</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">robotStarted</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs once each time the robot becomes enabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">robotEnabled</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs once each time the robot becomes disabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">robotDisabled</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically while the robot is enabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">enabledPeriodic</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically while the robot is disabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">disabledPeriodic</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically (regardless of robot state)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">periodic</span><span class="p">();</span>


<span class="w">    </span><span class="c1">// Add devices and constants here as member objects</span>
<span class="w">    </span><span class="c1">// These should be public so actions can access them using Main::robot</span>

<span class="w">    </span><span class="c1">// ADDED: Creation of TB6612 module and motor variables</span>
<span class="w">    </span><span class="c1">// Duplicate this code for each TB6612 in use, but use different</span>
<span class="w">    </span><span class="c1">// variable names. When constructing TB6612Module arguments are pin </span>
<span class="w">    </span><span class="c1">// numbers in order Ain1, Ain2, PwmA, Bin1, Bin2, PwmB</span>
<span class="w">    </span><span class="n">TB6612Module</span><span class="w"> </span><span class="n">tb6612</span><span class="w"> </span><span class="p">{</span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">};</span>
<span class="w">    </span><span class="n">TB6612Motor</span><span class="w"> </span><span class="o">&amp;</span><span class="n">motorA</span><span class="w"> </span><span class="p">{</span><span class="n">tb6612</span><span class="p">.</span><span class="n">getMotorA</span><span class="p">()};</span>
<span class="w">    </span><span class="n">TB6612Motor</span><span class="w"> </span><span class="o">&amp;</span><span class="n">motorB</span><span class="w"> </span><span class="p">{</span><span class="n">tb6612</span><span class="p">.</span><span class="n">getMotorB</span><span class="p">()};</span>
<span class="p">};</span>
</code></pre></div>
</div>
</div>
</div>
</details>
<details>
<summary>L298N Motor Controller</summary>
<p><img alt="" src="../../../img/l298n_labeled.png" style="height: 300px" /></p>
<p>The L298N motor controller is a PWM driven motor controller chip capable of controlling two motors. The module pictured above is a common breakout board / module using the L298N chip. Battery power is input using the V+ and GND pins. The 5V pin should have nothing connected to it generally. The 5V pin is used to supply 5V power if the input voltage (between V+ and GND) exceeds 12V. If the input voltage exceeds 12V disconnect the jumper for the builtin 5V regulator (circled in green) and supply 5V power from elsewhere (Pi, Arduino, etc). The L298N module supports two motors. Motor A is connected to OUT1 and OUT2. Motor B is connected to OUT3 and OUT4. The pins in the bottom right area of the module are connected to the Pi to control both motors. The IN1, IN2, and ENA control motor A and IN3, IN4, and ENB control motor B. Often the EN pins have a jumper connecting them to 5V. Remove these jumpers (circled in yellow) as the ENA and ENB pins will be connected to the Pi instead. The following connections should be made between the L298N module and the Pi</p>
<table>
<thead>
<tr>
<th>L298N Pin</th>
<th>Raspberry Pi Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td>IN1</td>
<td>Any GPIO (eg. 23)</td>
</tr>
<tr>
<td>IN2</td>
<td>Any GPIO (eg. 24)</td>
</tr>
<tr>
<td>ENA</td>
<td>Any GPIO (eg. 25)</td>
</tr>
<tr>
<td>IN3</td>
<td>Any GPIO (eg. 17)</td>
</tr>
<tr>
<td>IN4</td>
<td>Any GPIO (eg. 27)</td>
</tr>
<tr>
<td>ENB</td>
<td>Any GPIO (eg. 22)</td>
</tr>
<tr>
<td>GND</td>
<td>Any GND&ast;</td>
</tr>
</tbody>
</table>
<p>&ast; This only needs to be connected on one motor controller if multiple are used on the robot. This ensures that motor battery GND (usually AA batteries) and robot power GND (usually a USB battery pack) are connected. This is important for some sensors.</p>
<p>Each control pin (all but GND) must use a different GPIO. As such, 6 GPIO pins are needed per L298N module. In the robot code, an object is constructed for the L298N module. This object for the module constructs objects for both motors (A and B). This object is constructed using the pin numbers (broadcom pin numbering). Pinout and pin numbers can be found at <a href="https://pinout.xyz/">pinout.xyz</a>. You can choose any 6 GPIO pins. This pinout also shows which pins on the Pi are GND pins.</p>
<p>An object for the L298N module and both of its motors can be used in robot code as shown below</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Python (<code>robot.py</code>)</label><label for="__tabbed_3_2">C++ (<code>robot.hpp</code>)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">arpirobot.core.robot</span> <span class="kn">import</span> <span class="n">BaseRobot</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.log</span> <span class="kn">import</span> <span class="n">Logger</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.action</span> <span class="kn">import</span> <span class="n">ActionManager</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.network</span> <span class="kn">import</span> <span class="n">NetworkTable</span>

<span class="c1"># Import devices and other things here</span>

<span class="c1"># ADDED: Imports for L298N</span>
<span class="kn">from</span> <span class="nn">arpirobot.devices.l298n</span> <span class="kn">import</span> <span class="n">L298NModule</span>

<span class="c1"># Import actions here</span>
<span class="c1"># from actions import ...</span>

<span class="k">class</span> <span class="nc">Robot</span><span class="p">(</span><span class="n">BaseRobot</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Do not remove this line</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Create devices and constants as member variables here</span>
        <span class="c1"># self.device_var = DeviceClass(args)</span>

        <span class="c1"># ADDED: Creation of L298N module and motor variables</span>
        <span class="c1"># Duplicate this code for each L298N in use, but use different</span>
        <span class="c1"># variable names. When constructing L298NModule arguments are pin</span>
        <span class="c1"># numbers in order IN1, IN2, ENA, IN3, IN4, ENB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">l298n</span> <span class="o">=</span> <span class="n">L298NModule</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">22</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor_a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">l298n</span><span class="o">.</span><span class="n">get_motor_a</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor_b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">l298n</span><span class="o">.</span><span class="n">get_motor_b</span><span class="p">()</span>

        <span class="c1"># Only create the devices here. Do not configure them here!</span>

    <span class="k">def</span> <span class="nf">robot_started</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Run once when the robot starts</span>
        <span class="c1"># Configure devices here</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">robot_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs once each time the robot becomes enabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">robot_disabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs once each time the robot becomes disabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">enabled_periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically while the robot is enabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">disabled_periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically while the robot is disabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically (regardless of robot state)</span>

        <span class="c1"># Do not remove this line or some devices will be disabled</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feed_watchdog</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="cp">#pragma once</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/core/robot/BaseRobot.hpp&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;actions.hpp&gt;</span>

<span class="c1">// Other includes (for devices and other objects) here</span>

<span class="c1">// ADDED: Includes for L298N</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/devices/l298n/L298NModule.hpp&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/devices/l298n/L298NMotor.hpp&gt;</span>


<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">arpirobot</span><span class="p">;</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Robot</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">BaseRobot</span><span class="p">{</span>
<span class="k">public</span><span class="o">:</span>

<span class="w">    </span><span class="c1">// Run when the robot starts</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">robotStarted</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs once each time the robot becomes enabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">robotEnabled</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs once each time the robot becomes disabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">robotDisabled</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically while the robot is enabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">enabledPeriodic</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically while the robot is disabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">disabledPeriodic</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically (regardless of robot state)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">periodic</span><span class="p">();</span>


<span class="w">    </span><span class="c1">// Add devices and constants here as member objects</span>
<span class="w">    </span><span class="c1">// These should be public so actions can access them using Main::robot</span>

<span class="w">    </span><span class="c1">// ADDED: Creation of L298N module and motor variables</span>
<span class="w">    </span><span class="c1">// Duplicate this code for each L298N in use, but use different</span>
<span class="w">    </span><span class="c1">// variable names. When constructing L298NModule arguments are pin </span>
<span class="w">    </span><span class="c1">// numbers in order IN1, IN2, ENA, IN3, IN4, ENB</span>
<span class="w">    </span><span class="n">L298NModule</span><span class="w"> </span><span class="n">l298n</span><span class="w"> </span><span class="p">{</span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">};</span>
<span class="w">    </span><span class="n">L298NMotor</span><span class="w"> </span><span class="o">&amp;</span><span class="n">motorA</span><span class="w"> </span><span class="p">{</span><span class="n">l298n</span><span class="p">.</span><span class="n">getMotorA</span><span class="p">()};</span>
<span class="w">    </span><span class="n">L298NMotor</span><span class="w"> </span><span class="o">&amp;</span><span class="n">motorB</span><span class="w"> </span><span class="p">{</span><span class="n">l298n</span><span class="p">.</span><span class="n">getMotorB</span><span class="p">()};</span>
<span class="p">};</span>
</code></pre></div>
</div>
</div>
</div>
</details>
<details>
<summary>Adafruit Motor Hat / Bonnet</summary>
<p><em>Note: The Geekworm motor hat uses the same code as the Adafruit Motor Hat.</em></p>
<p><img alt="" src="../../../img/motorhat.png" style="height: 300px" /></p>
<p><em>Image Credit: <a href="https://www.adafruit.com/product/2348">Adafruit</a></em></p>
<p>Adafruit's motor hat / bonnet are connected to the Pi's GPIO header. The hat covers the entire header, although most pins are not used by the hat. As such, if the hat / bonnet is assembled using stacking headers (highly recommended) many GPIO pins are still accessible for other purposes. Additionally, the hat has a row of pads that headers can be soldered on to to access GPIO pins. This row of headers is directly below the header used to connect to the Pi.</p>
<p>Unlike most other motor controllers, the motor hat does not require the Pi generate PWM signals. Instead the motor hat includes its own PWM driver that communicates with the Pi via I2C. This is often better as the Pi generates PWM signals using software. The motor hat also supports four motors.</p>
<p>In addition to connecting the motor hat to the Pi, it is necessary to connect motors and battery power to the hat. Battery power is connected to the two-pin terminal block header in the bottom right (labeled "+" and "-"). The motor hat itself connects "-" (battery GND) and GND on the Pi, so no additional ground connections are needed. The motors are connected to the ports labeled M1, M2, M3, and M4. If using the Geekworm motor hat, the code will not use the numbering order printed on the hat (by default). It will instead use the same physical ordering as the Adafruit hat (far left is M1, then M2, then M3, then M4). This can be disabled if desired, but improves compatibility between the two hats.</p>
<p>Once connected, the following code can be used to access each motor on the hat</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Python (<code>robot.py</code>)</label><label for="__tabbed_4_2">C++ (<code>robot.hpp</code>)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">arpirobot.core.robot</span> <span class="kn">import</span> <span class="n">BaseRobot</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.log</span> <span class="kn">import</span> <span class="n">Logger</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.action</span> <span class="kn">import</span> <span class="n">ActionManager</span>
<span class="kn">from</span> <span class="nn">arpirobot.core.network</span> <span class="kn">import</span> <span class="n">NetworkTable</span>

<span class="c1"># Import devices and other things here</span>

<span class="c1"># ADDED: Imports for Adafruit Motor Hat</span>
<span class="kn">from</span> <span class="nn">arpirobot.devices.adafruitmotorhat</span> <span class="kn">import</span> <span class="n">AdafruitMotorHatMotor</span>

<span class="c1"># Import actions here</span>
<span class="c1"># from actions import ...</span>

<span class="k">class</span> <span class="nc">Robot</span><span class="p">(</span><span class="n">BaseRobot</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Do not remove this line</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Create devices and constants as member variables here</span>
        <span class="c1"># self.device_var = DeviceClass(args)</span>

        <span class="c1"># ADDED: Creation of AdafruitMotorHatMotor for each of 4 motors</span>
        <span class="c1"># When creating motors, I2C address of the hat can be specified</span>
        <span class="c1"># as an optional second argument. If not specified, it will try the</span>
        <span class="c1"># default address of the Adafruit hat. If that fails it will try</span>
        <span class="c1"># the default address of the Geekworm hat. If your motor hat is</span>
        <span class="c1"># not using the default address, it must be specified.</span>
        <span class="c1"># There is also an optional third argument which can be set to false</span>
        <span class="c1"># to disable the &quot;remapping&quot; of Geekworm hat motors to match the </span>
        <span class="c1"># Adafruit hat layout</span>
        <span class="c1"># self.my_motor = AdafruitMotorHatMotor(motor_num, hat_addr, remap)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor1</span> <span class="o">=</span> <span class="n">AdafruitMotorHatMotor</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor2</span> <span class="o">=</span> <span class="n">AdafruitMotorHatMotor</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor3</span> <span class="o">=</span> <span class="n">AdafruitMotorHatMotor</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motor4</span> <span class="o">=</span> <span class="n">AdafruitMotorHatMotor</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

        <span class="c1"># Only create the devices here. Do not configure them here!</span>

    <span class="k">def</span> <span class="nf">robot_started</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Run once when the robot starts</span>
        <span class="c1"># Configure devices here</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">robot_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs once each time the robot becomes enabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">robot_disabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs once each time the robot becomes disabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">enabled_periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically while the robot is enabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">disabled_periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically while the robot is disabled</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">periodic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Runs periodically (regardless of robot state)</span>

        <span class="c1"># Do not remove this line or some devices will be disabled</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feed_watchdog</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="cp">#pragma once</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/core/robot/BaseRobot.hpp&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;actions.hpp&gt;</span>

<span class="c1">// Other includes (for devices and other objects) here</span>

<span class="c1">// ADDED: Includes for Adafruit Motor Hat</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;arpirobot/devices/adafruitmotorhat/AdafruitMotorHatMotor.hpp&gt;</span>


<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">arpirobot</span><span class="p">;</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Robot</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">BaseRobot</span><span class="p">{</span>
<span class="k">public</span><span class="o">:</span>

<span class="w">    </span><span class="c1">// Run when the robot starts</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">robotStarted</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs once each time the robot becomes enabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">robotEnabled</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs once each time the robot becomes disabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">robotDisabled</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically while the robot is enabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">enabledPeriodic</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically while the robot is disabled</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">disabledPeriodic</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Runs periodically (regardless of robot state)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">periodic</span><span class="p">();</span>


<span class="w">    </span><span class="c1">// Add devices and constants here as member objects</span>
<span class="w">    </span><span class="c1">// These should be public so actions can access them using Main::robot</span>

<span class="w">    </span><span class="c1">// ADDED: Creation of AdafruitMotorHatMotor for each of 4 motors</span>
<span class="w">    </span><span class="c1">// When creating motors, I2C address of the hat can be specified</span>
<span class="w">    </span><span class="c1">// as an optional second argument. If not specified, it will try the</span>
<span class="w">    </span><span class="c1">// default address of the Adafruit hat. If that fails it will try</span>
<span class="w">    </span><span class="c1">// the default address of the Geekworm hat. If your motor hat is</span>
<span class="w">    </span><span class="c1">// not using the default address, it must be specified.</span>
<span class="w">    </span><span class="c1">// There is also an optional third argument which can be set to false</span>
<span class="w">    </span><span class="c1">// to disable the &quot;remapping&quot; of Geekworm hat motors to match the </span>
<span class="w">    </span><span class="c1">// Adafruit hat layout</span>
<span class="w">    </span><span class="c1">// AdafruitMotorHatMotor myMotor {motor_num, hat_addr, remap};</span>
<span class="w">    </span><span class="n">AdafruitMotorHatMotor</span><span class="w"> </span><span class="n">motor1</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">};</span>
<span class="w">    </span><span class="n">AdafruitMotorHatMotor</span><span class="w"> </span><span class="n">motor2</span><span class="w"> </span><span class="p">{</span><span class="mi">2</span><span class="p">};</span>
<span class="w">    </span><span class="n">AdafruitMotorHatMotor</span><span class="w"> </span><span class="n">motor3</span><span class="w"> </span><span class="p">{</span><span class="mi">3</span><span class="p">};</span>
<span class="w">    </span><span class="n">AdafruitMotorHatMotor</span><span class="w"> </span><span class="n">motor4</span><span class="w"> </span><span class="p">{</span><span class="mi">4</span><span class="p">};</span>
<span class="p">};</span>
</code></pre></div>
</div>
</div>
</div>
</details>
<h2 id="using-the-motors">Using the Motors</h2>
<p>Once you have added motor objects to your robot program, they can all be used the same way (regardless of which motor controller you are using). The motor objects all share a common set of functions and features.</p>
<h3 id="motor-speed-direction">Motor Speed &amp; Direction</h3>
<p>Motor speeds are represented as values between -1 and 1. The sign controls direction so -0.5 is 50% in the opposite direction of 0.5 (which is still 50% power). Whether negative is forward or reverse depends on several factors, which will be discussed later.</p>
<p>The following code show how to use a motor's <code>set_speed</code> (or <code>setSpeed</code> in C++) function to control a motor's speed. Replace the <code>robot_enabled</code> and <code>robot_disabled</code> functions in your progam with the following.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Python (<code>robot.py</code>)</label><label for="__tabbed_5_2">C++ (<code>robot.cpp</code>)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">robot_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">motor1</span><span class="o">.</span><span class="n">set_speed</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">robot_disabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">motor1</span><span class="o">.</span><span class="n">set_speed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">robotEnabled</span><span class="p">(){</span>
<span class="w">    </span><span class="n">motor1</span><span class="p">.</span><span class="n">setSpeed</span><span class="p">(</span><span class="mf">0.75</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">robotDisabled</span><span class="p">(){</span>
<span class="w">    </span><span class="n">motor1</span><span class="p">.</span><span class="n">setSpeed</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>The above code will set the motor called <code>motor1</code> to a speed of 75% when the robot is enabled. When disabled, the motor will be stopped by setting the speed to 0. Note that even if the speed were not set to zero, motors are still disabled and stopped when the robot is disabled. If needed, change the name of the motor from <code>motor1</code> to <code>motor_a</code> or <code>motorA</code> depending on what you named the motor in your code.</p>
<p>In the above example, a speed of positive 75% was used. Often it is desired to make positive forward for all motors. If your motor spins in reverse when you run the above code you have a few options. First, you could switch how the motor is connected. A motor has two wires (often a red and a black). Switching the order of the wires connected to the motor controller will reverse the motor direction. However, the motor direction can also be inverted in software. To invert the direction of <code>motor</code> add the following to <code>robot_started</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Python (<code>robot.py</code>)</label><label for="__tabbed_6_2">C++ (<code>robot.cpp</code>)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">robot_started</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Add this line to robot_started</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">motor1</span><span class="o">.</span><span class="n">set_inverted</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">robotStarted</span><span class="p">(){</span>
<span class="w">    </span><span class="c1">// Add this line to robotStarted</span>
<span class="w">    </span><span class="n">motor1</span><span class="p">.</span><span class="n">setInverted</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="brake-mode-coast-mode">Brake Mode &amp; Coast Mode</h3>
<p>In addition to setting speed and direction, motor controllers have one other common setting handling what happens when a motor is stopped (speed 0). When a motor is not moving it can either spin freely or it can attempt to resist motion. The latter is referred to as "brake mode". To enable brake mode for a motor add a line like the following to <code>robot_started</code>. Brake mode can be disabled later by using the same function, but replacing <code>True</code> with <code>False</code> (or <code>true</code> with <code>false</code>).</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Python (<code>robot.py</code>)</label><label for="__tabbed_7_2">C++ (<code>robot.cpp</code>)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">robot_started</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Add this line to robot_started</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">motor1</span><span class="o">.</span><span class="n">set_brake_mode</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">robotStarted</span><span class="p">(){</span>
<span class="w">    </span><span class="c1">// Add this line to robotStarted</span>
<span class="w">    </span><span class="n">motor1</span><span class="p">.</span><span class="n">setBrakeMode</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b78d2936.min.js"></script>
      
    
  </body>
</html>